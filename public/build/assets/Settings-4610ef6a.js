import{J as N,v as F,l as I,d as M,e as f,b as a,w as n,i as R,u as s,p as g,F as y,o as v,g as i,a as r,q as P,s as j,h as q,t as _,n as z,O as E}from"./app-fa4d3bfb.js";import{_ as J}from"./FormSection-008b04c5.js";import{_ as c}from"./InputError-95160b69.js";import{_ as u}from"./InputLabel-88caaa3c.js";import{_ as D}from"./PrimaryButton-38d1f15c.js";import{_ as k}from"./SecondaryButton-a1fb9a2a.js";import{_ as $}from"./TextInput-0018cd2e.js";import{_ as L}from"./ActionMessage-c0d38a06.js";import{_ as B}from"./Checkbox-8b48415e.js";import{a as T}from"./DialogModal-44aba61e.js";import G from"./Settings.create-37141d4e.js";import"./SectionTitle-33b72d47.js";import"./_plugin-vue_export-helper-c27b6911.js";const H={class:"col-span-6 sm:col-span-4"},K=["value"],Q={class:"col-span-6 sm:col-span-4"},W={class:"col-span-6 sm:col-span-4"},X={class:"col-span-6 sm:col-span-4"},Y={class:"col-span-6 sm:col-span-4"},Z={class:"col-span-6 sm:col-span-4"},ce={__name:"Settings",setup(x){const p=N(),{props:b}=p,e=F({description:p.props.kelulusanDesc,closed:p.props.kelulusanClosed,openedAt:p.props.kelulusanOpenAt,name:p.props.kelulusanSettingName,id:p.props.kelulusanSettingId,activated:!0}),O=I(()=>{const l=b.settings.find(o=>o.id===e.id);return l||console.log(l,b),e.description=l.description,e.closed=!!l.closed,e.activated=!!l.activated,e.openedAt=l.openedAt,e.name=l.name,`Setting ID (selected: ${e.id})`}),U=()=>{E.delete(route("dashboard.kelulusan.delete_setting",{id:e.id},{onFinish:()=>e.reset()}))},h=()=>{e.post(route("dashboard.kelulusan.update_setting",{id:e.id},{preserveState:!0,onSuccess:V}))},V=()=>{e.reset()};let d=M(!1);return(l,o)=>(v(),f(y,null,[a(J,{onSubmit:R(h,["prevent"])},{title:n(()=>[i(" Pengaturan ")]),description:n(()=>[i(" Anda dapat mengkonfigurasi waktu, status, dan deskripsi dari kelulusan. Semisalnya, Anda ingin pengguna hanya dapat melihat status kelulusan pada saat kapan. ")]),form:n(()=>{var m,S,A,C,w;return[r("div",H,[a(u,{for:"name",value:s(O)},null,8,["value"]),P(r("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>s(e).id=t),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},[(v(!0),f(y,null,q(l.$page.props.settings,t=>(v(),f("option",{value:t.id,ref_for:!0,ref:"settings"}," [ID: "+_(t.id)+"] "+_(t.name),9,K))),256))],512),[[j,s(e).id]])]),r("div",Q,[a(u,{for:"name",value:"Setting name"}),a($,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":o[1]||(o[1]=t=>s(e).name=t),type:"text",class:"mt-1 block w-full",autocomplete:"name"},null,8,["modelValue"]),a(c,{message:(m=l.$page.props.errors)==null?void 0:m.name,class:"mt-2"},null,8,["message"])]),r("div",W,[a(u,{for:"description",value:"Description"}),a($,{id:"description",modelValue:s(e).description,"onUpdate:modelValue":o[2]||(o[2]=t=>s(e).description=t),type:"text",class:"mt-1 block w-full",autocomplete:"description"},null,8,["modelValue"]),a(c,{message:(S=l.$page.props.errors)==null?void 0:S.description,class:"mt-2"},null,8,["message"])]),r("div",X,[a(u,{for:"closed",value:"Closed status"}),a(B,{value:s(e).closed?"closed":"open",checked:s(e).closed,onClick:o[3]||(o[3]=t=>s(e).closed=!s(e).closed),modelValue:s(e).closed,"onUpdate:modelValue":o[4]||(o[4]=t=>s(e).closed=t)},null,8,["value","checked","modelValue"]),a(c,{message:(A=l.$page.props.errors)==null?void 0:A.closed,class:"mt-2"},null,8,["message"])]),r("div",Y,[a(u,{for:"closed",value:"Activate status"}),a(B,{value:s(e).activated?"Off":"On",checked:s(e).activated,onClick:o[5]||(o[5]=t=>s(e).activated=!s(e).activated),modelValue:s(e).activated,"onUpdate:modelValue":o[6]||(o[6]=t=>s(e).activated=t)},null,8,["value","checked","modelValue"]),a(c,{message:(C=l.$page.props.errors)==null?void 0:C.activated,class:"mt-2"},null,8,["message"])]),r("div",Z,[a(u,{for:"openAt",value:"Open Date"}),a($,{id:"openAt",type:"date",name:"openAt",modelValue:s(e).openedAt,"onUpdate:modelValue":o[7]||(o[7]=t=>s(e).openedAt=t)},null,8,["modelValue"]),a(c,{message:(w=l.$page.props.errors)==null?void 0:w.openedAt,class:"mt-2"},null,8,["message"])])]}),actions:n(()=>[a(L,{on:s(e).recentlySuccessful,class:"mr-3"},{default:n(()=>[i(_(l.$page.props.jetstream.flash.settings),1)]),_:1},8,["on"]),a(D,{class:z({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:n(()=>[i(" Save ")]),_:1},8,["class","disabled"]),a(k,{onClick:o[8]||(o[8]=m=>g(d)?d.value=!0:d=!0),class:"ml-2",disabled:s(e).processing},{default:n(()=>[i(" New + ")]),_:1},8,["disabled"]),a(k,{onClick:V,class:"ml-2"},{default:n(()=>[i(" Refresh ")]),_:1}),a(D,{type:"button",disabled:s(e).processing,class:"bg-red-600 ml-2 hover:bg-red-500",onClick:U},{default:n(()=>[i(" Delete ")]),_:1},8,["disabled"])]),_:1},8,["onSubmit"]),a(T,{show:s(d),onClose:o[10]||(o[10]=m=>g(d)?d.value=!1:d=!1)},{title:n(()=>[i(" Buat pengaturan baru ")]),content:n(()=>[a(G,{form:s(e)},null,8,["form"])]),footer:n(()=>[a(k,{onClick:o[9]||(o[9]=m=>g(d)?d.value=!1:d=!1)},{default:n(()=>[i(" Close ")]),_:1})]),_:1},8,["show"])],64))}};export{ce as default};
